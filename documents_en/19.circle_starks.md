# circle_starks
1. Application of Small Fields in STARK Protocols
    * The design trend of STARK protocols is to shift to working with small fields, such as the Goldilocks, Mersenne31, and BabyBear fields, to enhance the proof speed. Small fields can address the inefficiency of operations in large fields, enabling proof systems to achieve efficient proofs on ordinary devices. For example, Starkware can prove 620,000 Poseidon2 hashes per second on an M3 laptop.
    * When small fields are used for hash - based proofs, there is an issue that due to the limited number of selectable random values, attackers can easily forge proofs. Solutions include performing multiple random checks (but this is inefficient) and field extension (by constructing a structure similar to complex numbers to increase the number of selectable values. Field extension is used in the FRI protocol and scenarios of random linear combinations, and most operations are still carried out in the base field).
2. Conventional FRI (Fast Reed - Solomon Interactive Oracle Proximity Proof)
    * When constructing SNARKs or STARKs, the computational problem is first arithmetized and transformed into a polynomial equation.
    * To prove that there is a solution to the equation, it is necessary to prove that the proposed value is a true polynomial and has a specific maximum degree. This is achieved by iteratively applying the random linear combination technique. Each operation reduces both the polynomial degree and the evaluation domain by a factor of 2. Eventually, the problem of "proving that the degree is less than $2^{20}$ " is reduced to the problem of "proving that the degree is less than $2^19$". Repeating this multiple times results in the FRI technique.
    * For FRI to work properly, the size of the original multiplicative subgroup needs to have a large power of 2 as a factor. The BabyBear field is friendly to this, while for the Mersenne31 field, since the size of its multiplicative subgroup is $2^{31}-2$, it can only be divided by 2 once, and the above - mentioned technique for FFT cannot be directly applied.
3. Circle FRI (FRI in Circle STARKs)
    * For a prime number p, a group of size p+1 with a two-to-one-like property can be obtained, that is, the set of points (x,y) satisfies $x^2+y^2=1$. Operations similar to FFT can be implemented on this circle group, solving the problem that the Mersenne31 field cannot directly perform FFT.
    * In the FFT operation on the circle group, points are combined through specific formulas to achieve the reduction of the evaluation domain. For example, first, the x-coordinates of opposite points on the circle are combined, and then through the mapping $x⇒2x^2−1$, it is transformed into the x-coordinate of the double point, reducing the size of the set by half each time.
4. Circle FFT (Fast Fourier Transform in Circle STARKs)
    * The FFT supported by the circle group is constructed in a way similar to FRI, but the object it deals with is the Riemann - Roch space, that is, the polynomial should be "modulo" the circle ($x^2+y^2-1=0$), only allowing the first power of y, and the output "coefficients" are specific bases.
    * Developers can store the "polynomial" as a set of values on a specific evaluation domain and use FFT when performing low - degree extensions.
5. Other Technical Details of Circle STARKs
    * Quotient - taking: In the circle group, there is no linear function that passes through only one point, and it is impossible to prove the evaluation at one point as in conventional FRI. The solution is to prove the evaluation at two points, add virtual points, and prove that $\frac{P - I}{L}$ is a polynomial by constructing line functions and interpolation functions.
    * Vanishing polynomials: In Circle STARK, the vanishing polynomials are $Z_1(x,y)=y$, $Z_2(x,y)=x$，$Z_n+1(x,y)=(2*Z_n(x,y)^2)-1$, which can be derived from the folding function.
    * Bit - reversal order: The folding structure of Circle STARK is different from that of conventional STARK. To reflect this structure, every bit except the last one is reversed, and the last bit is retained to determine whether to reverse the other bits.
6. Efficiency
    * Circle STARKs (and 31 - bit prime STARKs) are highly efficient. Their proof calculations involve native arithmetic (used for business logic and cryptography) and lookup arguments. Compared with large - field SNARKs, small fields waste less space, and the "SNARK - specific designed" hash function can make full use of every bit of the numbers in the field.
    * Binius is more powerful than Circle STARK. It can mix and match different - sized fields, has more efficient bit - packing, and can perform 32 - bit addition without the overhead of a lookup table. However, it has a higher theoretical complexity, while Circle STARK has a relatively simple concept.


    reference：https://mp.weixin.qq.com/s/g6hcok1tJVIIOSoz3dxRFQ